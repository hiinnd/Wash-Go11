<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تم الطلب بنجاح | Wash Go</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #ffffff;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
        }
        
        .success-container {
            text-align: center;
            padding: 30px;
            max-width: 450px;
            width: 100%;
        }
        
        .success-icon {
            font-size: 80px;
            color: #28a745;
            margin-bottom: 20px;
            animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }
        
        .order-id-badge {
            background: #f8f9fa;
            padding: 10px 20px;
            border-radius: 50px;
            display: inline-block;
            color: #6c757d;
            font-weight: bold;
            margin-bottom: 25px;
            border: 1px dashed #dee2e6;
            font-size: 0.9rem;
        }
        
        .btn-main {
            border-radius: 50px;
            padding: 14px;
            font-weight: bold;
            width: 100%;
            border: none;
            transition: 0.3s;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            text-decoration: none;
            display: block;
        }
        /* لون أزرق للتتبع */
        
        .btn-blue {
            background: #007bff;
            color: white;
        }
        /* لون رمادي للسجل */
        
        .btn-gray {
            background: #6c757d;
            color: white;
        }
        
        .btn-main:hover {
            transform: translateY(-3px);
            color: white;
            opacity: 0.9;
        }
        
        .secondary-links {
            margin-top: 25px;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        .secondary-links a {
            color: #007bff;
            text-decoration: none;
            font-size: 0.85rem;
            margin: 0 10px;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <div class="success-container">
        <div class="success-icon">
            <i class="fas fa-check-circle"></i>
        </div>

        <h3 class="fw-bold mb-2">تم الطلب بنجاح!</h3>
        <p class="text-muted mb-4">شكراً لكِ يا <span id="userNameDisplay" class="text-dark fw-bold">هند</span>. <br> <span id="successMessage">جاري معالجة طلبكِ...</span></p>

        <div class="order-id-badge">
            رقم الطلب: <span id="orderId">#WG-9920</span>
        </div>

        <div id="actionButtonContainer">
            <a href="#" id="mainActionButton" class="btn-main shadow">...</a>
        </div>

        <div class="secondary-links">
            <a href="home.html">الرئيسية</a>
            <span class="text-muted">|</span>
            <a href="booking-history.html">سجل الحجوزات</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // جلب اسم هند
            const name = localStorage.getItem('userName') || "هند";
            document.getElementById('userNameDisplay').innerText = name;

            // تثبيت رقم الطلب WG-9920 للدارة البرمجية
            const orderNum = "WG-9920";
            document.getElementById('orderId').innerText = "#" + orderNum;

            // فحص نوع الخدمة (استلام منزلي أم حجز محطة)
            const isHomeDelivery = localStorage.getItem('isHomeDelivery') === 'true';
            const actionBtn = document.getElementById('mainActionButton');
            const successMsg = document.getElementById('successMessage');

            if (isHomeDelivery) {
                // حالة 1: استلام منزلي
                successMsg.innerText = "لقد تم تأكيد الدفع، والسائق في طريقه لاستلام سيارتكِ.";
                actionBtn.innerHTML = 'تتبع السائق الآن <i class="fas fa-map-marker-alt ms-2"></i>';
                actionBtn.href = 'live-tracking.html';
                actionBtn.classList.add('btn-blue');

                // تفعيل حالة التتبع للدارة البرمجية
                localStorage.setItem('wash_go_order_9920_status', 'بانتظار وصول السائق');
            } else {
                // حالة 2: حجز في المحطة
                successMsg.innerText = "لقد تم تأكيد موعدكِ بنجاح. ننتظركِ في المحطة في الوقت المحدد.";
                actionBtn.innerHTML = 'عرض تفاصيل الموعد <i class="fas fa-file-invoice ms-2"></i>';
                actionBtn.href = 'booking-history.html';
                actionBtn.classList.add('btn-gray');
            }
        });
    </script>
</body>

</html>