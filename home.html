<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø²Ø¨ÙˆÙ† | Wash Go</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: #f0f2f5;
            text-align: right;
        }
        
        .welcome-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 30px 20px 50px;
            border-radius: 0 0 30px 30px;
        }
        
        .loyalty-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            margin-top: -30px;
        }
        
        .status-alert {
            border-radius: 15px;
            padding: 12px;
            margin: 15px 0;
            display: none;
            align-items: center;
            justify-content: space-between;
            background: white;
            border-right: 5px solid #ddd;
        }
        
        .service-card {
            background: white;
            border-radius: 20px;
            padding: 15px;
            text-align: center;
            transition: 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: none;
            cursor: pointer;
            height: 100%;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
        }
        
        .icon-box {
            width: 50px;
            height: 50px;
            background: #e7f1ff;
            color: #007bff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-size: 1.2rem;
        }
        
        .modal-content {
            border-radius: 30px;
            border: none;
        }
        
        .pay-option {
            background: #f8f9fa;
            border-radius: 15px;
            cursor: pointer;
            transition: 0.2s;
            border: 2px solid transparent;
        }
        
        .pay-option:hover {
            border-color: #007bff;
            background: #f0f7ff;
        }
    </style>
</head>

<body class="pb-5">
    <div class="welcome-header shadow">
        <div class="container d-flex justify-content-between align-items-center">
            <div>
                <h4 class="fw-bold mb-0">Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ <span id="userNameDisplay">Ù‡Ù†Ø¯</span> ğŸ‘‹</h4><small class="opacity-75" id="planDisplay">Ø¨Ø§Ù‚Ø©: ---</small></div>
            <button onclick="showLogout()" class="btn btn-light btn-sm rounded-pill fw-bold px-3">Ø®Ø±ÙˆØ¬</button>
        </div>
    </div>

    <div class="container">
        <div class="card loyalty-card mb-4 text-center border-0">
            <div class="row align-items-center">
                <div class="col-6 border-start"><small class="text-muted">ØºØ³Ù„Ø§Øª Ù…ØªØ¨Ù‚ÙŠØ©</small>
                    <div class="fw-bold text-warning fs-4" id="washesDisplay">0</div>
                </div>
                <div class="col-6"><small class="text-muted">Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ„Ø§Ø¡</small>
                    <div class="fw-bold fs-4 text-primary" id="pointsDisplay">450</div>
                </div>
            </div>
        </div>

        <div id="weatherAlert" class="alert alert-info border-0 rounded-4 d-flex align-items-center mb-3">
            <i class="fas fa-cloud-rain ms-3 fs-4"></i>
            <div class="small fw-bold">Ø§Ù„Ø£Ø¬ÙˆØ§Ø¡ Ù…Ø§Ø·Ø±Ø© Ø§Ù„ÙŠÙˆÙ…! ğŸŒ§ï¸ Ù†Ù†ØµØ­ÙƒÙ Ø¨ØªØ£Ø¬ÙŠÙ„ Ø§Ù„ØºØ³ÙŠÙ„ ÙŠØ§ Ù‡Ù†Ø¯.</div>
        </div>

        <div id="statusBox" class="status-alert shadow-sm">
            <div class="text-end">
                <h6 id="statusTitle" class="fw-bold mb-0 small">---</h6><small id="statusDesc" class="text-muted" style="font-size: 10px;">ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ</small></div>
            <button id="statusBtn" onclick="" class="btn btn-sm rounded-pill px-3 fw-bold border-0">---</button>
        </div>

        <h6 class="fw-bold mb-3 mt-4">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</h6>
        <div class="row g-3 text-center">
            <div class="col-6 col-md-4">
                <div class="service-card" onclick="location.href='search-stations.html'">
                    <div class="icon-box"><i class="fas fa-search"></i></div>
                    <h6 class="fw-bold small">Ø­Ø¬Ø² ØºØ³ÙŠÙ„</h6>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="service-card" onclick="location.href='customer-plans.html'">
                    <div class="icon-box"><i class="fas fa-crown"></i></div>
                    <h6 class="fw-bold small">Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</h6>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="service-card" onclick="location.href='booking-history.html'">
                    <div class="icon-box"><i class="fas fa-history"></i></div>
                    <h6 class="fw-bold small">Ø§Ù„Ø³Ø¬Ù„Ø§Øª</h6>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="service-card" onclick="location.href='user-wallet.html'">
                    <div class="icon-box"><i class="fas fa-wallet"></i></div>
                    <h6 class="fw-bold small">Ø§Ù„Ù…Ø­ÙØ¸Ø©</h6>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="service-card" onclick="location.href='profile.html'">
                    <div class="icon-box"><i class="fas fa-user-circle"></i></div>
                    <h6 class="fw-bold small">Ø¨Ø±ÙˆÙØ§ÙŠÙ„ÙŠ</h6>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="service-card" onclick="location.href='support.html'">
                    <div class="icon-box"><i class="fas fa-headset"></i></div>
                    <h6 class="fw-bold small">Ø§Ù„Ø¯Ø¹Ù…</h6>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="paymentModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-4">
                <h5 class="fw-bold text-center mb-4">ØªØ£ÙƒÙŠØ¯ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</h5>
                <div id="homeAlert" class="alert alert-danger small fw-bold mb-3" style="display:none">Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ù†Ø²Ù„ØŒ Ø§Ù„Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙÙ‚Ø·.</div>

                <div class="pay-option p-3 mb-2 d-flex align-items-center" onclick="location.href='payment-gateway.html'">
                    <i class="fas fa-credit-card text-primary fs-4 ms-3"></i>
                    <div class="text-end"><b>Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†</b><br><small class="text-muted">ÙÙŠØ²Ø§ / Ù…Ø§Ø³ØªØ±ÙƒØ§Ø±Ø¯</small></div>
                </div>
                <div class="pay-option p-3 mb-2 d-flex align-items-center" onclick="payWallet()">
                    <i class="fas fa-wallet text-success fs-4 ms-3"></i>
                    <div class="text-end"><b>Ù…Ø­ÙØ¸Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</b><br><small class="text-muted">Ø§Ù„Ø±ØµÙŠØ¯: 12.50 JOD</small></div>
                </div>
                <div id="cashOpt" class="pay-option p-3 d-flex align-items-center" onclick="payCash()">
                    <i class="fas fa-money-bill-wave text-warning fs-4 ms-3"></i>
                    <div class="text-end"><b>Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ</b><br><small class="text-muted">ÙÙŠ Ø§Ù„Ù…Ø­Ø·Ø© Ù…Ø¨Ø§Ø´Ø±Ø©</small></div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="ratingModal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-4 text-center">
                <i class="fas fa-check-double text-success fa-4x mb-3"></i>
                <h5 class="fw-bold">Ù†Ø¹ÙŠÙ…Ø§Ù‹ ÙŠØ§ Ù‡Ù†Ø¯! âœ¨</h5>
                <p class="text-muted small">ÙƒÙŠÙ ÙƒØ§Ù†Øª ØªØ¬Ø±Ø¨ØªÙƒÙ Ø§Ù„ÙŠÙˆÙ…ØŸ</p>
                <div class="d-flex flex-row-reverse justify-content-center my-3" style="color:#ddd">
                    <i class="fas fa-star fs-1 mx-1" style="cursor:pointer" onclick="this.parentElement.style.color='#ffc107'"></i>
                    <i class="fas fa-star fs-1 mx-1" style="cursor:pointer"></i><i class="fas fa-star fs-1 mx-1" style="cursor:pointer"></i>
                </div>
                <button onclick="localStorage.removeItem('wash_go_order_9920_status'); location.reload();" class="btn btn-primary w-100 rounded-pill fw-bold">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lamea.js"></script>
    <script>
        function sync() {
            document.getElementById('userNameDisplay').innerText = localStorage.getItem('userName') || "Ù‡Ù†Ø¯";
            document.getElementById('planDisplay').innerText = "Ø¨Ø§Ù‚Ø©: " + (localStorage.getItem('userPlan') || "Ù„Ø§ ÙŠÙˆØ¬Ø¯");
            document.getElementById('washesDisplay').innerText = localStorage.getItem('washesLeft') || "0";

            const s = localStorage.getItem('wash_go_order_9920_status');
            const box = document.getElementById('statusBox');
            if (s === 'Completed') {
                new bootstrap.Modal(document.getElementById('ratingModal')).show();
                box.style.display = 'none';
                return;
            }
            if (!s) {
                box.style.display = 'none';
                return;
            }

            box.style.display = 'flex';
            const t = document.getElementById('statusTitle'),
                d = document.getElementById('statusDesc'),
                b = document.getElementById('statusBtn');

            if (s === 'Pending') {
                t.innerText = "â³ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±";
                d.innerText = "Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø­Ø·Ø©";
                b.style.display = 'none';
                box.style.borderRightColor = '#ffc107';
            } else if (s === 'Approved') {
                t.innerText = "âœ… ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©!";
                d.innerText = "Ø§Ø®ØªØ§Ø±ÙŠ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹";
                b.innerText = "Ø¯ÙØ¹";
                b.className = "btn btn-primary btn-sm rounded-pill";
                b.onclick = openPay;
                box.style.borderRightColor = '#007bff';
            } else if (s === 'Paid') {
                t.innerText = "ğŸš— ØªÙ… Ø§Ù„Ø­Ø¬Ø²";
                d.innerText = "ÙØ±ÙŠÙ‚Ù†Ø§ Ø¨Ø§Ù†ØªØ¸Ø§Ø±ÙƒÙ";
                b.innerText = "ØªØªØ¨Ø¹";
                b.className = "btn btn-success btn-sm rounded-pill";
                b.onclick = () => location.href = 'live-tracking.html';
                box.style.borderRightColor = '#28a745';
            }
        }

        function openPay() {
            const loc = localStorage.getItem('serviceLocation');
            document.getElementById('cashOpt').style.display = (loc === 'home') ? 'none' : 'flex';
            document.getElementById('homeAlert').style.display = (loc === 'home') ? 'block' : 'none';
            new bootstrap.Modal(document.getElementById('paymentModal')).show();
        }

        function payWallet() {
            if (confirm("Ø®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©ØŸ")) {
                localStorage.setItem('wash_go_order_9920_status', 'Paid');
                location.reload();
            }
        }

        function payCash() {
            if (confirm("ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ ÙƒØ§Ø´ØŸ")) {
                localStorage.setItem('wash_go_order_9920_status', 'Paid');
                location.reload();
            }
        }

        function showLogout() {
            if (confirm("Ø®Ø±ÙˆØ¬ ÙŠØ§ Ù‡Ù†Ø¯ØŸ")) {
                localStorage.clear();
                location.href = 'login.html';
            }
        }

        window.onload = () => {
            sync();
            setInterval(sync, 4000);
        };
    </script>
</body>

</html>