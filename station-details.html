<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز موعد | Wash Go</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: #f8f9fa;
            padding-bottom: 160px;
            text-align: right;
        }
        
        .station-hero {
            height: 180px;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1520333789090-1afc82db536a?w=800');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: flex-end;
            padding: 20px;
            color: white;
            border-radius: 0 0 30px 30px;
            position: relative;
        }
        
        .back-arrow {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #007bff;
            border: none;
        }
        
        .item-card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            border: 2px solid transparent;
            transition: 0.3s;
            cursor: pointer;
        }
        
        .selected {
            border-color: #007bff;
            background-color: #f0f7ff;
        }
        
        .price {
            font-weight: 900;
            color: #28a745;
        }
        
        .order-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 20px;
            z-index: 1000;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.05);
            border-radius: 25px 25px 0 0;
        }
        
        .btn-book {
            border-radius: 50px;
            padding: 12px;
            font-weight: 800;
            width: 100%;
            background: #007bff;
            border: none;
            color: white;
        }
        
        input {
            border: 1px solid #ddd;
            padding: 8px;
            border-radius: 10px;
            width: 100%;
            font-family: 'Cairo';
        }
        
        .modal-content {
            border-radius: 30px;
            border: none;
        }
    </style>
</head>

<body>
    <div class="station-hero">
        <button onclick="location.href='home.html'" class="back-arrow"><i class="fas fa-arrow-right"></i></button>
        <div>
            <h3 class="fw-bold mb-1">مغسلة التميز</h3>
            <p class="small mb-0"><i class="fas fa-calendar-check ms-1"></i> حجز موعد جديد</p>
        </div>
    </div>

    <div class="container mt-4">
        <h6 class="fw-bold mb-3 small"><i class="fas fa-map-marker-alt text-primary ms-2"></i> مكان الخدمة:</h6>
        <div class="row g-2 mb-3 text-center">
            <div class="col-6">
                <div class="item-card shadow-sm" id="locStation" onclick="selectLoc('station')"><i class="fas fa-gas-pump d-block mb-1"></i> في المحطة</div>
            </div>
            <div class="col-6">
                <div class="item-card shadow-sm" id="locHome" onclick="selectLoc('home')"><i class="fas fa-home d-block mb-1"></i> من المنزل</div>
            </div>
        </div>

        <h6 class="fw-bold mb-3 small"><i class="fas fa-clock text-primary ms-2"></i> الموعد المفضل:</h6>
        <div class="row g-2 mb-3">
            <div class="col-6"><input type="date" id="bookDate"></div>
            <div class="col-6"><input type="time" id="bookTime"></div>
        </div>

        <h6 class="fw-bold mb-3 small"><i class="fas fa-concierge-bell text-primary ms-2"></i> نوع الغسيل:</h6>
        <div class="item-card shadow-sm d-flex justify-content-between align-items-center" onclick="selectServ(this, 'غسيل شامل', 12)">
            <div>
                <h6 class="fw-bold mb-0 small">غسيل شامل</h6><small class="text-muted" style="font-size: 10px;">داخلي وخارجي</small></div>
            <div class="price small">12 JOD</div>
        </div>
        <div class="item-card shadow-sm d-flex justify-content-between align-items-center" onclick="selectServ(this, 'غسيل خارجي', 6)">
            <div>
                <h6 class="fw-bold mb-0 small">غسيل خارجي</h6><small class="text-muted" style="font-size: 10px;">نانو سيلك</small></div>
            <div class="price small">6 JOD</div>
        </div>
    </div>

    <div class="order-footer text-center">
        <div class="container">
            <div class="d-flex justify-content-between mb-3 small fw-bold">
                <span>المختار: <span id="selServ" class="text-primary">---</span></span>
                <span id="selPrice" class="text-success">0 JOD</span>
            </div>
            <button onclick="checkOrder()" class="btn-book">إرسال الطلب للموافقة <i class="fas fa-paper-plane ms-2"></i></button>
        </div>
    </div>

    <div class="modal fade" id="errorModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-4 text-center">
                <i class="fas fa-info-circle fa-3x text-warning mb-3"></i>
                <h5 class="fw-bold">بيانات ناقصة</h5>
                <p class="text-muted small">يا هند، يرجى تعبئة كافة تفاصيل الحجز (الموقع، الموعد، والخدمة) للمتابعة.</p>
                <button class="btn btn-secondary w-100 rounded-pill fw-bold" data-bs-dismiss="modal">حسناً</button>
            </div>
        </div>
    </div>

    <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-5 text-center shadow-lg">
                <i class="fas fa-paper-plane fa-4x text-primary mb-3"></i>
                <h5 class="fw-bold">تم إرسال طلبكِ!</h5>
                <p class="text-muted small">يا هند، طلبكِ الآن قيد المراجعة لدى صاحب المحطة. سيصلكِ إشعار فور الموافقة.</p>
                <button class="btn btn-dark w-100 rounded-pill fw-bold" onclick="location.href='home.html'">ممتاز</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let chosenS = "",
            chosenP = 0,
            chosenL = "";

        function selectLoc(t) {
            document.getElementById('locStation').className = 'item-card shadow-sm' + (t === 'station' ? ' selected' : '');
            document.getElementById('locHome').className = 'item-card shadow-sm' + (t === 'home' ? ' selected' : '');
            chosenL = t;
        }

        function selectServ(el, n, p) {
            document.querySelectorAll('.item-card').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            chosenS = n;
            chosenP = p;
            document.getElementById('selServ').innerText = n;
            document.getElementById('selPrice').innerText = p + " JOD";
        }

        function checkOrder() {
            const d = document.getElementById('bookDate').value;
            const t = document.getElementById('bookTime').value;

            // إذا كانت البيانات ناقصة، يظهر مودال التنبيه
            if (!chosenL || !chosenS || !d || !t) {
                return new bootstrap.Modal(document.getElementById('errorModal')).show();
            }

            // حفظ البيانات وإظهار مودال النجاح
            localStorage.setItem('serviceLocation', chosenL);
            localStorage.setItem('booking_service', chosenS);
            localStorage.setItem('finalPrice', chosenP);
            localStorage.setItem('wash_go_order_9920_status', 'Pending');

            new bootstrap.Modal(document.getElementById('successModal')).show();
        }
    </script>
    <script src="lamea.js"></script>
</body>

</html>